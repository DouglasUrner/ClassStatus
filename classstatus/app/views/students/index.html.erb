<p id="notice"><%= notice %></p>

<h1>Students</h1>

<table>
  <tr>
    <th>Name</th>
    <th>E-mail Address</th>
    <th>GitHub Username</th>
    <th>Sections</th>
    <th colspan="2"></th>
  </tr>

  <% @students.each do |student| %>
    <tr>
      <td><%= format_name(student) %></td>
      <td><a href="mailto:<%= student.email %>"><%= student.email %></a></td>
      <td><a href="https://github.com/<%= student.github_user %>">
        <%= student.github_user %>
      </td>
      <td><%= student_sections(student) %></td>
      <td><%= link_to 'Edit', edit_student_path(student) %></td>
      <td><%= link_to 'Delete', student_path(student),
              method: :delete, data: { confirm: "Delete #{format_name(student)}?" } %>
      </td>
    </tr>
  <% end %>
</table>

<h3>Import Students</h3>
<%= form_tag import_students_path, multipart: true do %>
  <%= file_field_tag :file %>
  <%= select_tag :section,
        options_from_collection_for_select(Section.order(:name), "id", "name"),
        include_blank: "Select Section" %>
  <%= submit_tag "Import JSON" %>
<% end %>
